machine:
  time:
    disabled: false
    servers:
      - "time.cloudflare.com"

  kernel:
    modules:
      - name: "dm_thin_pool"
      - name: "dm_mod"
      - name: "nvme_tcp"
      - name: "vfio_pci"
      - name: "uio_pci_generic"

  kubelet:
    extraArgs:
      rotate-server-certificates: true
    extraConfig:
      maxPods: 250
      shutdownGracePeriod: "15s"
      shutdownGracePeriodCriticalPods: "10s"
    extraMounts:
      - destination: "/var/openebs/local"
        type: "bind"
        source: "/var/openebs/local"
        options:
          - "bind"
          - "rshared"
          - "rw"
      - destination: "/var/lib/longhorn"
        type: "bind"
        source: "/var/lib/longhorn"
        options:
          - "bind"
          - "rshared"
          - "rw"

  features:
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false

  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "2500000"
    net.core.wmem_max: "2500000"
    vm.nr_hugepages: "2048"

  registries:
    config:
